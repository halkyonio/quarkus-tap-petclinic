accelerator:
  displayName: Quarkus Petclinic
  description: "A Quarkus Petclinic app"
  iconUrl: https://design.jboss.org/quarkus/logo/final/PNG/quarkus_icon_rgb_128px_default.png
  tags:
  - quarkus
  - petclinic
  - java
  options:
  - name: optionName
    label: Nice Label
    display: true
    defaultValue: ""

  - name: includeK8s
    label: "Include kubernetes resources?"
    inputType: toggle
    dataType: boolean
    defaultValue: true
    required: true

engine:
  sources:
    - includes: [ "**" ]
      excludes: [ "k8s-accelerator.yaml","README-application.md","README.md"]

    - includes: [ "k8s/deployment.yml", "k8s/service.yml" ]
      condition: "#includeK8s"
      transformations:
      - type: ReplaceText
        substitutions:
          - text: quarkus-petclinic
            with: "#artifactId"

  - includes: ["README-application.md"]
    transformations:
      - type: ReplaceText
        substitutions:
          - text: quarkus-petclinic
            with: "#artifactId"
      - type: RewritePath
        rewriteTo: "README.md"